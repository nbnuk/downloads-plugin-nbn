package uk.org.nbn.downloads

import grails.test.mixin.TestFor
import org.springframework.mock.web.MockServletContext


//@TestFor(DownloadService)
class DownloadServiceSpec {

    void setUp(){

//        def servletContext = new MockServletContext()
//        servletContext.setAttribute(GrailsApplicationAttributes.APPLICATION_CONTEXT, mainContext)
//        ServletContextHolder.setServletContext(servletContext)
//        -
//
//                -

    }


    void "test triggerDownload for download RECORDS and format is DWC "() {
//        given:
//        grailsApplication.config.downloads.dwcFields = "a,b"
//
//        service.webService = Mock(WebService)
//
//        def downloadParams = Mock(DownloadParams)
//        downloadParams.downloadType >> DownloadType.RECORDS.type
//        downloadParams.downloadFormat >> DownloadFormat.DWC.format
//
//        expect:
//        service.triggerDownload(downloadParams)
//        downloadParams.fields == "a,b"

    }
}
